{"remainingRequest":"C:\\Users\\Hendrick\\Desktop\\PayMyBuddyVueJS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Hendrick\\Desktop\\PayMyBuddyVueJS\\src\\views\\Settingspage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Hendrick\\Desktop\\PayMyBuddyVueJS\\src\\views\\Settingspage.vue","mtime":1638607909958},{"path":"C:\\Users\\Hendrick\\Desktop\\PayMyBuddyVueJS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633150622442},{"path":"C:\\Users\\Hendrick\\Desktop\\PayMyBuddyVueJS\\node_modules\\vue-loader\\lib\\index.js","mtime":1633150633966}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport commonMixin from \"../mixin/commonMixin\"\r\nexport default {\r\n  name: \"Settingspage\",\r\n  mixins: [commonMixin],\r\n  created: function() {\r\n    \r\n  },\r\n\r\n  mounted: function() {\r\n\r\n    this.$emit('pagetitle', \"Update your informations\")\r\n\r\n    if (!this.token) {\r\n      document.targetpage=\"settingspage\";\r\n      this.navigate(\"loginpage\");\r\n    }\r\n    else{\r\n      this.loadUsername();\r\n    }\r\n\r\n\r\n  },\r\n\r\n  computed: {   \r\n\r\n    token: function () {\r\n      return document.token\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    goHomepage: function() {\r\n        this.navigate(\"homepage\");\r\n    },\r\n\r\n    goAccountpage: function() {\r\n        this.navigate(\"accountpage\");\r\n    },\r\n\r\n    goLoginpage: function() {\r\n        this.navigate(\"loginpage\");\r\n    },\r\n\r\n    goTransactionpage: function() {\r\n      this.navigate(\"transactionpage\");\r\n    },\r\n\r\n    loadUsername: function() {\r\n      let self= this\r\n       this.axios\r\n        .get(\"http://localhost:8080/users/username\")\r\n        .then(function(response) {\r\n          console.log(response)\r\n          self.username = response.data\r\n          self.loadUsername()\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n        .finally(function() {\r\n\r\n        });\r\n    },\r\n    \r\n\r\n    edit(item){\r\n      this.updateId = item.id\r\n      this.updateUsername = item.username\r\n      this.updateEmail = item.email\r\n      this.updateDescription = item.description\r\n      this.password = item.password\r\n    },\r\n\r\n    editAction () {\r\n      let self = this\r\n      let user = {\r\n        \"id\" : this.updateId,\r\n        \"username\" : this.updateUsername,\r\n        \"email\" : this.updateEmail,\r\n        \"description\": this.updateDescription,\r\n        \"password\" : this.updatePassword,\r\n      }\r\n\r\n      this.axios\r\n        .put(\"http://localhost:8080/users/\", user)\r\n        .then(function(response) {\r\n          console.log(response)\r\n          self.accounts = response.data\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n        .finally(function() {\r\n          self.editDialog = false\r\n        });\r\n    },\r\n\r\n    reset () {\r\n        this.$refs.form.reset()\r\n      },\r\n\r\n    \r\n    \r\n  },\r\n\r\n  data () {\r\n\r\n    return {\r\n\r\n      valid: true,\r\n\r\n      editDialog: false,\r\n\r\n      username: '',\r\n      updateId: '',\r\n      updateUsername: '',\r\n      updateEmail: '',\r\n      updateDescription: '',\r\n      updatePassword: '',\r\n      \r\n      \r\n    };\r\n  },  \r\n\r\n};\r\n\r\n",{"version":3,"sources":["Settingspage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA","file":"Settingspage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\r\n<v-dialog\r\n      v-model=\"editDialog\"\r\n      persistent\r\n      max-width=\"290\"\r\n    >\r\n      <v-card>\r\n        <v-card-title class=\"text-h5\">\r\n          Êtes-vous sûr ?\r\n        </v-card-title>\r\n        <v-card-text>\r\n          Ces paramètres seront changés\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            color=\"red darken-1\"\r\n            text\r\n            @click=\"editDialog = false\"\r\n          >\r\n            Refuser\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"green darken-1\"\r\n            text\r\n            @click=\"editAction\"\r\n          >\r\n            Confirmer\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  <v-card>\r\n    <v-card-title>\r\n          <span class=\"text-h5\">Hi {{username}}, you want to update your informations ?</span>\r\n        </v-card-title>\r\n  <v-form\r\n    ref=\"form\"\r\n    v-model=\"valid\"\r\n  >\r\n    <v-text-field\r\n      v-model=\"updateUsername\"\r\n      :counter=\"10\"\r\n      \r\n      label=\"Username\"\r\n      \r\n    ></v-text-field>\r\n\r\n    <v-text-field\r\n      v-model=\"updateEmail\"\r\n      \r\n      label=\"E-mail\"\r\n      \r\n    ></v-text-field>\r\n\r\n    <v-text-field\r\n      v-model=\"updateDescription\"\r\n      label=\"Description\"\r\n      \r\n    ></v-text-field>\r\n\r\n    <v-text-field\r\n      v-model=\"updatePassword\"\r\n      label=\"Password\"\r\n    ></v-text-field>\r\n\r\n    <v-card-actions>\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-btn\r\n      color=\"warning\"\r\n      class=\"mr-4\"\r\n      @click=\"reset\"\r\n    >\r\n      Reset Form\r\n      <v-icon>mdi-cancel</v-icon>\r\n    </v-btn>\r\n\r\n    <v-btn\r\n      :disabled=\"!valid\"\r\n      color=\"success\"\r\n      class=\"mr-4\"\r\n      @click=\"editDialog\"\r\n    >\r\n      Validate\r\n      <v-icon>mdi-pencil</v-icon>\r\n    </v-btn>\r\n\r\n    </v-card-actions>\r\n\r\n  </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport commonMixin from \"../mixin/commonMixin\"\r\nexport default {\r\n  name: \"Settingspage\",\r\n  mixins: [commonMixin],\r\n  created: function() {\r\n    \r\n  },\r\n\r\n  mounted: function() {\r\n\r\n    this.$emit('pagetitle', \"Update your informations\")\r\n\r\n    if (!this.token) {\r\n      document.targetpage=\"settingspage\";\r\n      this.navigate(\"loginpage\");\r\n    }\r\n    else{\r\n      this.loadUsername();\r\n    }\r\n\r\n\r\n  },\r\n\r\n  computed: {   \r\n\r\n    token: function () {\r\n      return document.token\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    goHomepage: function() {\r\n        this.navigate(\"homepage\");\r\n    },\r\n\r\n    goAccountpage: function() {\r\n        this.navigate(\"accountpage\");\r\n    },\r\n\r\n    goLoginpage: function() {\r\n        this.navigate(\"loginpage\");\r\n    },\r\n\r\n    goTransactionpage: function() {\r\n      this.navigate(\"transactionpage\");\r\n    },\r\n\r\n    loadUsername: function() {\r\n      let self= this\r\n       this.axios\r\n        .get(\"http://localhost:8080/users/username\")\r\n        .then(function(response) {\r\n          console.log(response)\r\n          self.username = response.data\r\n          self.loadUsername()\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n        .finally(function() {\r\n\r\n        });\r\n    },\r\n    \r\n\r\n    edit(item){\r\n      this.updateId = item.id\r\n      this.updateUsername = item.username\r\n      this.updateEmail = item.email\r\n      this.updateDescription = item.description\r\n      this.password = item.password\r\n    },\r\n\r\n    editAction () {\r\n      let self = this\r\n      let user = {\r\n        \"id\" : this.updateId,\r\n        \"username\" : this.updateUsername,\r\n        \"email\" : this.updateEmail,\r\n        \"description\": this.updateDescription,\r\n        \"password\" : this.updatePassword,\r\n      }\r\n\r\n      this.axios\r\n        .put(\"http://localhost:8080/users/\", user)\r\n        .then(function(response) {\r\n          console.log(response)\r\n          self.accounts = response.data\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n        })\r\n        .finally(function() {\r\n          self.editDialog = false\r\n        });\r\n    },\r\n\r\n    reset () {\r\n        this.$refs.form.reset()\r\n      },\r\n\r\n    \r\n    \r\n  },\r\n\r\n  data () {\r\n\r\n    return {\r\n\r\n      valid: true,\r\n\r\n      editDialog: false,\r\n\r\n      username: '',\r\n      updateId: '',\r\n      updateUsername: '',\r\n      updateEmail: '',\r\n      updateDescription: '',\r\n      updatePassword: '',\r\n      \r\n      \r\n    };\r\n  },  \r\n\r\n};\r\n\r\n</script>"]}]}